# 代码风格折腾记

* [Prettier](https://prettier.io/)
* [ESLint](http://eslint.cn/)
* [TSLint](https://palantir.github.io/tslint/)

## Prettier

[在线demo](https://prettier.io/playground/)

### 什么是Prettier?

* 一个主观的代码格式化工具
* 支持大量语言
* 可以和多数的编辑器集成
* 少量的配置

它会将原本的样式全部删除然后确保输出的文件都符合一个固定的格式。

如果你的代码在一行里过长，Prettier 将会重新编辑你的代码。

举个例子，让我们看下这个代码：

```js
foo(arg1, arg2, arg3, arg4);
```

它在一行里能全部展示所以它会保持不变。然而我们都遇到过这种情况。

```js
foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
```

我们突然发现之前的格式被破坏了因为它太长了，然后Prettier就会小心的将它重新编辑成如下的格式。

```
foo(
  reallyLongArg(),
  omgSoManyParameters(),
  IShouldRefactorThis(),
  isThereSeriouslyAnotherOne()
);
```

Prettier 会强制执行一个代码风格在你的整个代码库中（代码格式化不会影响到 AST）。它通过解析 AST 来忽略原有的代码风格并使用自己的代码风格来重新编辑代码，这些规则考虑了每行最长的长度，并在适合的时候进行代码的包装。

如果你想了解更多，下面的两个演讲将会给予你更多的说明。

[A Prettier Printer](https://www.youtube.com/watch?v=hkfBvpEfWdA)

[Javascript Code Formatting](https://www.youtube.com/watch?v=0Q4kUNx85_4)

### 为什么使用？

* 保存时自动格式化
* code review 时不用进行代码风格的讨论
* 节约你的时间和精力
* 更多...

#### 创建并强制执行一个代码风格规范

目前为止选择 Prettier 的最大原因是为了停止所有关于代码风格的争论。人们普遍认为，有一个共同的代码风格规范对于一个项目和团队来说是有价值的，但是制定的过程是非常痛苦和没有回报的。人们对写代码的特定方式非常个性化，没有人喜欢花时间去写和读辣鸡的代码。

那么，为什么要去选择 "Prettier 代码风格规范" 而不是其他随意的规范呢？因为 Prettier 是唯一的完全自动的规范。即使 Prettier 不能100%按照您希望的方式格式化所有的代码，但是考虑到 Prettier 独特之处，这样的牺牲是值得的，不是吗？

### 你可以对以下语言进行美化

* ES2017
* JSX or TSX
* Flow
* TypeScript
* Vue
* JSON
* CSS3+
* Less
* SCSS
* styled-components
* styled-jsx
* GraphQL
* GraphQL Schemas
* CommonMark
* GitHub Flavored Markdown
* YAML

正在开发中的语言

* Elm (via elm-format)
* Java
* PHP
* PostgreSQL
* Python
* Ruby
* Swift

### 支持的编辑器

* Atom
  * prettier-atom 
  * mprettier 
  * miniprettier
* Emacs
  * prettier-emacs
* Espresso
  * espresso-prettier
* Sublime Text
  * JsPrettier
* Vim
  * neoformat 
  * ale 
  * vim-prettier
* Visual Studio
  * JavaScriptPrettier
* VS Code
  * prettier-vscode
* WebStorm
  * Built-in support


